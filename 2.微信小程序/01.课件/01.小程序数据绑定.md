# 小程序数据绑定

1. 数据显示

   1. 声明状态数据:在data中提前声明状态数据

   2. 小程序中会对data数据进行深拷贝(通过JSON方法),所以不需要想Vue中奖data写为函数形式

   3. 显示状态数据:与Vue相同,只需要在wxml中使用插值语法({{msg}})即可显示

   4. 小程序中状态属性可以后续新增,不一定要提前声明好

   5. 数据流向问题

      1. Vue

         1. 单向数据流

         2. 注意:Vue中提到的叫做双向数据绑定(伪双向,特指v-model指令)

         3. v-model原理:

            1. 效果:当input内容发生变化的时候,自动修改data中对应的状态数据

            2. ```vue
               <input @input="(event)=>{this.value=event.target.value}"/>
               ```

      2. React

         1. 单向数据流

      3. 小程序

         1. 单向数据流

2. 数据修改

   1. Vue
      1. 语法:this.msg="北鼻1"  =>  数据代理  =>  this.$data.msg="北鼻1"  =>  数据劫持=>  通过dep通知所有的watcher进行视图更新
      2. Vue中更新状态数据是**同步更新**,但是视图是**异步渲染**
   2. React(状态持久化框架)
      1. 语法:this.setState({msg:"北鼻1"})
      2. 问题一:setState函数的执行是同步的还是异步的
         1. 回答:同步执行
      3. 问题二:setState函数更新状态数据的效果是同步的还是异步的
         1. 回答:看情况
            1. 同步
               1. 原生事件
               2. 定时函数
            2. 异步
               1. 合成事件
                  1. 合成事件是React提供的新的事件,区分可以通过事件名进行区分(合成事件是用驼峰命名法命名的)
                     1. 合成事件速度慢于原生事件,合成事件是将所有的事件绑定在#root标签上,所以需要冒泡才能触发
               2. 生命周期
   3. 小程序
      1. 语法:this.setData({ msg: "北鼻1" })
      2. 小程序中更新状态数据是**同步更新**,但是视图是**异步渲染**
         1. 注意:由于数据是同步更新,所以**每次使用数据一定都是当前最新**,不需要担心延后操作
      3. 读取数据:由于没有数据代理,所以必须通过this.data.msg进行读取

