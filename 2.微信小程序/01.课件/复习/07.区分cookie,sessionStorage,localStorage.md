# 区分cookie,sessionStorage,localStorage,session,token

1. 生命周期
   1. cookie
      1. 没设置了Max-Age,如果浏览器关闭或者标签页关闭,就会销毁cookie(会话cookie)
      2. 设置了Max-Age,只要不超过当前的max-age的时间,就永久存在(持久化cookie)
   2. sessionStorage
      1. 浏览器关闭或者标签页关闭,会销毁sessionStorage
   3. localStorage
      1. 除非手动删除或者因为电脑清理数据问题,否则永久存在
2. 存储位置
   1. cookie
      1. 没设置了Max-Age,存储于内存中
      2. 设置了Max-Age,存储于硬盘中
   2. sessionStorage
      1. 存储于内存中
   3. localStorage
      1. 存储于硬盘中
3. 存储大小
   1. cookie	->	4KB
   2. sessionStorage   ->     5MB(存储大小根据浏览器而定)
   3. localStorage    ->    5MB(存储大小根据浏览器而定,IE 3120KB)
4. 与服务器的关系
   1. cookie
      1. 服务器创建,浏览器存储
      2. 返回给前端的手段(通过响应头中的set-Cookie属性传入,浏览器发现响应头中的该字段,会主动创建文件并保存起来)
      3. 每次发送请求都会自动携带
      4. 总结:其实cookie对于前端来说没什么用,虽然前端也可以设置和读取cookie,但是必须要服务器允许
   2. sessionStorage
      1. 该功能是H5新特性,与服务器没任何关系(不熟)
   3. localStorage
      1. 该功能是H5新特性,与服务器没任何关系(不熟)
5. 比较三者,分析优缺点
   1. cookie体积太小,存储数据量有限
   2. cookie会自动被携带上,变相增加了请求的体积,降低了速度
   3. cookie不安全
   4. cookie可能会被用户禁用,本地存储不能被禁用
6. token与上述三个技术有什么区别
   1. 本质:字符串
   2. 该字符串一般会存储于cookie或者本地存储中
   3. 如果想要防止他不丢失,最少也要使用变量或者属性去存储
7. session
   1. 他是服务器存储数据的手段
   2. 本质:对象
   3. 他是服务器在内存中创建的一个对象,内部可以存储数据
   4. 使用流程:
      1. 服务器在内存中创建一个对象,该对象最少具有一个属性session_id,该属性是session对象的唯一标识
      2. 服务器会返回一个cookie给前端,其中会存储session_id
      3. 浏览器每次发送请求,都会携带上cookie,从而携带上session_id
      4. 服务器接收到session_id,会通过该数据找到内存中对应的session对象,从而获取对应数据
